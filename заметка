------ для total profit вывод инфы
SELECT 
    (curr.total_profit) AS total_profit,
    ((curr.total_profit - prev.total_profit) / prev.total_profit * 100) AS growth_percent
FROM
    (SELECT SUM(total_price) AS total_profit
	 FROM orders
	 WHERE created_at >= DATE_FORMAT(CURDATE(), '%Y-%m-01')) curr,
    (SELECT SUM(total_price) AS total_profit 
     FROM orders 
     WHERE created_at >= DATE_SUB(CURDATE(), INTERVAL 60 DAY)
       AND created_at < DATE_SUB(CURDATE(), INTERVAL 30 DAY)) prev;

------ для кнопки view all orders

SELECT
  o.id AS order_id,
  u.name AS user_name,
  p.name AS product_name,
  o.quantity,
  o.total_price,
  o.created_at
FROM
  orders o
LEFT JOIN
  users u ON o.user_id = u.id
LEFT JOIN
  products p ON o.product_id = p.id
ORDER BY
  o.created_at;

----- запрос для Best Selling Products

SELECT id, name, total_sold, price, stock 
FROM products 
ORDER BY total_sold DESC 
LIMIT 5;

------ запрос для top sellers

SELECT id, name, rating, total_sales 
FROM sellers 
ORDER BY total_sales DESC 
LIMIT 5;

----- запрос для market overview

SELECT c.symbol, c.name, h.date, h.price
FROM currency_history h
JOIN currencies c ON c.id = h.currency_id
WHERE c.symbol IN ('BTC','ETH','XRP', 'ZEC')
ORDER BY h.date DESC;